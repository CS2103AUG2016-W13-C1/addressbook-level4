# A0093896H
###### \java\guitests\AddCommandTest.java
``` java
public class AddCommandTest extends ToDoListGuiTest {
    
    @Test
    public void add_command_test() {
        //add one task
        TestTask[] currentList = td.getEmptyTaskList();
        TestTask taskToAdd = TypicalTestTasks.buyMilk;
        assertAddSuccess(taskToAdd, currentList);
        currentList = TestUtil.addTasksToList(currentList, taskToAdd);

        //add another task
        taskToAdd = TypicalTestTasks.buyRice;
        assertAddSuccess(taskToAdd, currentList);
        currentList = TestUtil.addTasksToList(currentList, taskToAdd);

        //add duplicate task
        commandBox.runCommand(TypicalTestTasks.buyMilk.getAddCommand());
        assertResultMessage(AddCommand.MESSAGE_DUPLICATE_TASK);
        assertTrue(taskListPanel.isListMatching(currentList));

        //add to empty list
        commandBox.runCommand("clear");
        assertAddSuccess(TypicalTestTasks.buyGroceries);

        //invalid command
        commandBox.runCommand("adds go to town");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
    }
```
###### \java\guitests\UndoCommandTest.java
``` java
public class UndoCommandTest extends ToDoListGuiTest {
    
    @Test
    public void undo_command_test() {
        
        //initially no undo
        commandBox.runCommand("undo");
        assertResultMessage(UndoCommand.MESSAGE_NO_PREVIOUS_STATE);
        
        TestTask[] currentList = td.getTypicalTasks();
        for (TestTask t : currentList) {
            commandBox.runCommand(t.getAddCommand());
        }
        
        TestTask[] reverseList = td.getTypicalTasksReverse();
        
        //undo add
        reverseList = TestUtil.removeTaskFromList(reverseList, 1);
        commandBox.runCommand("undo");
        assertUndoSuccess(reverseList);
        
        //undo update
        commandBox.runCommand("update 1 changeName");
        commandBox.runCommand("undo");
        assertUndoSuccess(reverseList);
        
        //undo delete
        commandBox.runCommand("delete 1");
        commandBox.runCommand("undo");
        assertUndoSuccess(reverseList);
    }
    
    
    /**
     * Runs the undo command to move to the previous state and confirms the result is correct.
     * @param currentList A copy of the expected list of tasks (after undo).
     */
    private void assertUndoSuccess(TestTask... expectedList) {
        assertTrue(taskListPanel.isListMatching(expectedList));
    }
    
    
}
```
###### \java\guitests\UpdateCommandTest.java
``` java
package guitests;

import org.junit.Test;
import org.junit.rules.ExpectedException;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.model.task.Detail;
import seedu.todo.model.task.Name;
import seedu.todo.model.task.Priority;
import seedu.todo.model.task.Recurrence;
import seedu.todo.model.task.Recurrence.Frequency;
import seedu.todo.model.task.TaskDate;
import seedu.todo.testutil.TestTask;

import static org.junit.Assert.assertTrue;

import org.junit.Rule;

public class UpdateCommandTest extends ToDoListGuiTest {
    
    @Rule
    public ExpectedException thrown = ExpectedException.none();
    
    @Test
    public void update_command_test() throws IllegalValueException {
        
        TestTask[] currentList = td.getTypicalTasks();
        for (TestTask t : currentList) {
            commandBox.runCommand(t.getAddCommand());
        }
        
        TestTask[] reverseList = td.getTypicalTasksReverse();
        
        //update name
        reverseList[0].setName(new Name("changeName"));
        commandBox.runCommand("update 1 changeName");
        assertUpdateSuccess(reverseList);
        
        //update on date and priority
        reverseList[0].setPriority(new Priority("high"));
        reverseList[0].setOnDate(new TaskDate("12/12/1996", TaskDate.TASK_DATE_ON));
        commandBox.runCommand("update 1 on 12/12/1996 priority high");
        assertUpdateSuccess(reverseList);
        
        //remove detail
        reverseList[0].setDetail(new Detail(""));
        commandBox.runCommand("update 1 ; -");
        assertUpdateSuccess(reverseList);
        
        //full update
        reverseList[1].setName(new Name("this is full update"));
        reverseList[1].setDetail(new Detail("haha"));
        reverseList[1].setOnDate(new TaskDate("tomorrow", TaskDate.TASK_DATE_ON));
        reverseList[1].setByDate(new TaskDate("2 days later", TaskDate.TASK_DATE_BY));
        reverseList[1].setPriority(new Priority("mid"));
        reverseList[1].setRecurrence(new Recurrence(Frequency.WEEK));
        
        commandBox.runCommand("update 2 this is full update "
                + "on tomorrow by 2 days later priority mid every week ; haha");
        
        assertUpdateSuccess(reverseList);
    }
    
    
    /**
     * Check if the expected list is the same as the gui list
     * @param currentList A copy of the expected list of tasks (after undo).
     */
    private void assertUpdateSuccess(TestTask... expectedList) {
        assertTrue(taskListPanel.isListMatching(expectedList));
    }
    
    
}

```
###### \java\seedu\todo\commons\util\DateTimeUtilTest.java
``` java
package seedu.todo.commons.util;

import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.model.task.TaskDate;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertTrue;

import java.time.LocalDateTime;

public class DateTimeUtilTest {

    @Rule
    public ExpectedException thrown = ExpectedException.none();
    
    @Test
    public void isValidDateString_test() {
        String[] validFormats = {"8 Oct 2015", "8/12/2014", "8-12-2000", 
                "2/October/2103", "13 March 2013", "4 May 2013"};
        String[] invalidFormats = {"abcd", "adsa"};
        for (String validFormat : validFormats) {
            assertNotNull(DateTimeUtil.parseDateTimeString(validFormat, TaskDate.TASK_DATE_ON));
        }
        for (String invalidFormat : invalidFormats) {
            assertNull(DateTimeUtil.parseDateTimeString(invalidFormat, TaskDate.TASK_DATE_ON));
        }
        
    }
    
    @Test
    public void containsDateField_test() {
        assertTrue(DateTimeUtil.containsDateField("12/12/1234"));
        assertFalse(DateTimeUtil.containsDateField("12"));
        assertTrue(DateTimeUtil.containsDateField("12/12/1234 12:30"));
    }
    
    @Test
    public void containsTimeField_test() {
        assertFalse(DateTimeUtil.containsTimeField("12/12/1234"));
        assertTrue(DateTimeUtil.containsTimeField("12:30"));
        assertTrue(DateTimeUtil.containsTimeField("12"));
        assertTrue(DateTimeUtil.containsTimeField("12/12/1234 12:30"));
    }
    
    @Test
    public void beforeOther_test() throws IllegalValueException {
        TaskDate onDate = new TaskDate("today", TaskDate.TASK_DATE_ON);
        TaskDate byDate = new TaskDate("six days later", TaskDate.TASK_DATE_BY);
        
        TaskDate onSameDate = new TaskDate("today 0900", TaskDate.TASK_DATE_ON);
        TaskDate bySameDate = new TaskDate("today 1900", TaskDate.TASK_DATE_ON);
        
        assertTrue(DateTimeUtil.beforeOther(onDate, byDate));
        assertFalse(DateTimeUtil.beforeOther(byDate, onDate));
        assertFalse(DateTimeUtil.beforeOther(onDate, onDate));
        
        assertTrue(DateTimeUtil.beforeOther(onSameDate, bySameDate));
        assertFalse(DateTimeUtil.beforeOther(bySameDate, onSameDate));
        assertFalse(DateTimeUtil.beforeOther(onSameDate, onSameDate));
    }
    
    @Test
    public void parseDateTimeString_test() {
        LocalDateTime ldt = LocalDateTime.of(1996, 1, 1, 20, 34);
        LocalDateTime ldtNoTime = LocalDateTime.of(1996, 1, 1, 0, 0);
        LocalDateTime ldtNoDate = LocalDateTime.now();
        ldtNoDate = ldtNoDate.of(ldtNoDate.getYear(), ldtNoDate.getMonth(), ldtNoDate.getDayOfMonth(), 20, 34);
        assertEquals(ldt, DateTimeUtil.parseDateTimeString("1/1/1996 20:34", TaskDate.TASK_DATE_ON));
        assertEquals(ldtNoTime, DateTimeUtil.parseDateTimeString("1/1/1996", TaskDate.TASK_DATE_ON));
        assertEquals(ldtNoDate, DateTimeUtil.parseDateTimeString("20:34", TaskDate.TASK_DATE_ON));
        
        
    }
}
```
###### \java\seedu\todo\logic\AddLogicTest.java
``` java
package seedu.todo.logic;

import org.junit.Before;
import org.junit.Test;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.AddCommand;
import seedu.todo.model.task.Name;
import seedu.todo.model.task.Task;
import seedu.todo.model.task.TaskDate;

/**
 * Test class for the add command's logic
 */
public class AddLogicTest extends CommandLogicTest {

    @Before
    public void add_setup() {}
    
    @Test
    public void execute_add_invalidTaskData() throws IllegalValueException {
        assertCommandBehavior(
                "add Valid Name on vdvd ; a line of details", TaskDate.MESSAGE_DATETIME_CONSTRAINTS);
        assertCommandBehavior(
                "add Valid Name on 12/12/1234 by asdasdsad ; a line of details", TaskDate.MESSAGE_DATETIME_CONSTRAINTS);

    }

    @Test
    public void execute_add_fullTask_successful() throws IllegalValueException {
        Task toBeAdded = helper.generateFullTask(0);
        Task toBeAddedRecur = helper.generateFullTask(1);
        
        expectedTDL.addTask(toBeAdded);
        assertCommandBehavior(helper.generateAddCommand(toBeAdded),
                String.format(AddCommand.MESSAGE_SUCCESS, toBeAdded), expectedTDL,
                expectedTDL.getTaskList());
        
        expectedTDL.addTask(toBeAddedRecur);
        assertCommandBehavior(helper.generateAddCommandRecurring(toBeAddedRecur),
                String.format(AddCommand.MESSAGE_SUCCESS, toBeAddedRecur),
                expectedTDL, expectedTDL.getTaskList());
    }
    
    @Test
    public void execute_add_onTask_successful() throws IllegalValueException {
        
        Task toBeAdded = helper.generateTaskWithDates("today", null);
        Task toBeAddedRecur = helper.generateTaskWithDates("tomorrow", null);
        
        expectedTDL.addTask(toBeAdded);        
        assertCommandBehavior(helper.generateAddCommand(toBeAdded),
                String.format(AddCommand.MESSAGE_SUCCESS, toBeAdded),
                expectedTDL,
                expectedTDL.getTaskList());
        
        expectedTDL.addTask(toBeAddedRecur);
        assertCommandBehavior(helper.generateAddCommand(toBeAddedRecur),
                String.format(AddCommand.MESSAGE_SUCCESS, toBeAddedRecur),
                expectedTDL,
                expectedTDL.getTaskList());
    }

    @Test
    public void execute_add_floatingTask_successful() throws IllegalValueException {
        // setup expectations
        Task toBeAdded = helper.generateTaskWithDates(null, null);        
        expectedTDL.addTask(toBeAdded);

        // execute command and verify result
        assertCommandBehavior(helper.generateAddCommand(toBeAdded),
                String.format(AddCommand.MESSAGE_SUCCESS, toBeAdded),
                expectedTDL,
                expectedTDL.getTaskList());
    }
    
    @Test
    public void execute_add_deadlineTask_successful() throws IllegalValueException {
        Task toBeAdded = helper.generateTaskWithDates(null, "Tomorrow");        
        expectedTDL.addTask(toBeAdded);
        
        assertCommandBehavior(helper.generateAddCommand(toBeAdded),
                String.format(AddCommand.MESSAGE_SUCCESS, toBeAdded),
                expectedTDL,
                expectedTDL.getTaskList());
    }
    
    @Test
    public void execute_addDuplicate_notAllowed() throws IllegalValueException {
        Task toBeAdded = helper.generateFullTask(0);
        expectedTDL.addTask(toBeAdded);

        model.addTask(toBeAdded); // task already in internal address book
        assertCommandBehavior(
                helper.generateAddCommand(toBeAdded),
                AddCommand.MESSAGE_DUPLICATE_TASK,
                expectedTDL,
                expectedTDL.getTaskList());
    }
}
```
###### \java\seedu\todo\logic\ClearLogicTest.java
``` java
package seedu.todo.logic;

import java.util.Collections;

import org.junit.Test;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.ClearCommand;
import seedu.todo.model.DoDoBird;


/**
 * Test class for the clear command's logic
 */
public class ClearLogicTest extends CommandLogicTest {
    @Test
    public void execute_clear() throws IllegalValueException {
        model.addTask(helper.generateFullTask(1));
        model.addTask(helper.generateFullTask(2));
        model.addTask(helper.generateFullTask(3));

        assertCommandBehavior("clear", ClearCommand.MESSAGE_SUCCESS, new DoDoBird(), Collections.emptyList());
    }
}
```
###### \java\seedu\todo\logic\DeleteLogicTest.java
``` java
package seedu.todo.logic;

import static seedu.todo.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;

import java.util.List;

import org.junit.Before;
import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.DeleteCommand;
import seedu.todo.model.DoDoBird;
import seedu.todo.model.task.Task;
import seedu.todo.model.task.UniqueTaskList.TaskNotFoundException;
import seedu.todo.testutil.TestDataHelper;

/**
 * Test class for the delete command's logic
 */
public class DeleteLogicTest extends CommandLogicTest {

    @Before
    public void delete_setup() {}
    
    @Test
    public void execute_deleteInvalidArgsFormat_errorMessageShown() throws IllegalValueException {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, DeleteCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand(DeleteCommand.COMMAND_WORD, expectedMessage);
    }

    @Test
    public void execute_deleteIndexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand(DeleteCommand.COMMAND_WORD);
    }

    @Test
    public void execute_delete_removesCorrectTask() throws IllegalValueException, TaskNotFoundException {
        TestDataHelper helper = new TestDataHelper();
        List<Task> threeTasks = helper.generateTaskList(3);

        DoDoBird expectedAB = helper.generateToDoList(threeTasks);
        expectedAB.deleteTask(threeTasks.get(1));
        helper.addToModel(model, threeTasks);

        assertCommandBehavior("delete 2",
                String.format(DeleteCommand.MESSAGE_DELETE_TASK_SUCCESS, threeTasks.get(1).getName()),
                expectedAB,
                expectedAB.getTaskList());
    }
}
```
###### \java\seedu\todo\logic\MarkLogicTest.java
``` java
package seedu.todo.logic;

import static seedu.todo.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;

import org.junit.Test;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.MarkCommand;
import seedu.todo.model.task.Completion;
import seedu.todo.model.task.Task;

/**
 * Test class for the mark command's logic
 */
public class MarkLogicTest extends CommandLogicTest {
    
    @Test
    public void execute_mark_successful() throws IllegalValueException {
        Task toBeMarked = helper.generateFullTask(0);
        expectedTDL.addTask(toBeMarked);
        
        toBeMarked.setCompletion(new Completion(true));
        model.addTask(helper.generateFullTask(0));
        
        assertCommandBehavior("mark 1",
                String.format(MarkCommand.MESSAGE_SUCCESS, toBeMarked.getName()),
                expectedTDL,
                expectedTDL.getTaskList());

    }
    
    @Test
    public void execute_markInvalidArgsFormat_errorMessageShown() throws IllegalValueException {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, MarkCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("mark", expectedMessage);
    }

    @Test
    public void execute_markIndexNotFound_errorMessageShown() throws IllegalValueException {
        assertIndexNotFoundBehaviorForCommand("mark");
    }
}
```
###### \java\seedu\todo\logic\SeeLogicTest.java
``` java
package seedu.todo.logic;

import java.util.List;

import org.junit.Test;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.SeeCommand;
import seedu.todo.model.DoDoBird;
import seedu.todo.model.task.ReadOnlyTask;
import seedu.todo.testutil.TestDataHelper;

/**
 * Test class for the see command's logic
 */
public class SeeLogicTest extends CommandLogicTest {
    
    @Test
    public void execute_list_showsAllTasks() throws IllegalValueException {
        expectedTDL = helper.generateToDoList(2);
        List<? extends ReadOnlyTask> expectedList = expectedTDL.getTaskList();

        helper.addToModel(model, 2);

        assertCommandBehavior("see",
                SeeCommand.MESSAGE_SUCCESS,
                expectedTDL,
                expectedList);
    }
}
```
###### \java\seedu\todo\logic\TagLogicTest.java
``` java
package seedu.todo.logic;

import static seedu.todo.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;

import org.junit.Test;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.TagCommand;
import seedu.todo.model.tag.Tag;
import seedu.todo.model.tag.UniqueTagList;
import seedu.todo.model.task.Task;
import seedu.todo.model.task.UniqueTaskList.TaskNotFoundException;


/**
 * Test class for the tag command's logic
 */
public class TagLogicTest extends CommandLogicTest {
    
    @Test
    public void execute_tag_successful() throws IllegalValueException, TaskNotFoundException {
        Task toBeTagged = helper.generateFullTask(0);
        expectedTDL.addTask(toBeTagged);
        
        UniqueTagList tags = new UniqueTagList();
        tags.add(new Tag("yay"));
        expectedTDL.addTaskTags(toBeTagged, tags);
        
        Task toBeTaggedInModel = helper.generateFullTask(0);
        model.addTask(toBeTaggedInModel);        
        
        assertCommandBehavior("tag 1 yay",
                String.format(TagCommand.MESSAGE_SUCCESS, toBeTagged.getName()),
                expectedTDL,
                expectedTDL.getTaskList());
    }
    
    @Test
    public void execute_tagInvalidArgsFormat_errorMessageShown() throws IllegalValueException {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, TagCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("tag", expectedMessage);
    }

    @Test
    public void execute_tagIndexNotFound_errorMessageShown() throws IllegalValueException {
        assertIndexNotFoundBehaviorForCommand("tag");
    }
}
```
###### \java\seedu\todo\logic\UnmarkLogicTest.java
``` java
package seedu.todo.logic;

import static seedu.todo.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;

import org.junit.Test;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.UnmarkCommand;
import seedu.todo.model.task.Completion;
import seedu.todo.model.task.Task;

/**
 * Test class for the unmark command's logic
 */
public class UnmarkLogicTest extends CommandLogicTest {
    
    @Test
    public void execute_unmark_successful() throws IllegalValueException {
        Task toBeMarked = helper.generateFullTask(0);
        expectedTDL.addTask(toBeMarked);
        
        Task toBeMarkedInModel = helper.generateFullTask(0);
        toBeMarkedInModel.setCompletion(new Completion(true));
        model.addTask(toBeMarkedInModel);        
       
        logic.execute("search done"); //have to search for completed tasks first
        
        assertCommandBehavior("unmark 1",
                String.format(UnmarkCommand.MESSAGE_SUCCESS, toBeMarked.getName()),
                expectedTDL,
                expectedTDL.getTaskList());

    }
    
    @Test
    public void execute_unmarkInvalidArgsFormat_errorMessageShown() throws IllegalValueException {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, UnmarkCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("unmark", expectedMessage);
    }

    @Test
    public void execute_unmarkIndexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("unmark");
    }
}
```
###### \java\seedu\todo\logic\UntagLogicTest.java
``` java
package seedu.todo.logic;

import static seedu.todo.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;

import org.junit.Test;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.logic.commands.UntagCommand;
import seedu.todo.model.tag.Tag;
import seedu.todo.model.task.Task;

/**
 * Test class for the untag command's logic
 */
public class UntagLogicTest extends CommandLogicTest {
    
    @Test
    public void execute_untag_successful() throws IllegalValueException {
        Task toBeUntagged = helper.generateFullTask(0);
        expectedTDL.addTask(toBeUntagged);
        
        Task toBeUntaggedInModel = helper.generateFullTask(0);
        toBeUntaggedInModel.addTag(new Tag("yay"));
        model.addTask(toBeUntaggedInModel);        
        
        // execute command and verify result
        assertCommandBehavior("untag 1 yay",
                String.format(UntagCommand.MESSAGE_SUCCESS, toBeUntagged.getName()),
                expectedTDL,
                expectedTDL.getTaskList());

    }
    
    @Test
    public void execute_untagInvalidArgsFormat_errorMessageShown() throws IllegalValueException {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT, UntagCommand.MESSAGE_USAGE);
        assertIncorrectIndexFormatBehaviorForCommand("untag", expectedMessage);
    }

    @Test
    public void execute_untagIndexNotFound_errorMessageShown() throws IllegalValueException {
        assertIndexNotFoundBehaviorForCommand("untag");
    }
}
```
###### \java\seedu\todo\model\qualifiers\OnDateQualifierTest.java
``` java
package seedu.todo.model.qualifiers;

import static org.junit.Assert.assertEquals;

import java.time.LocalDateTime;

import org.junit.Before;
import org.junit.Test;

import javafx.collections.transformation.FilteredList;
import seedu.todo.logic.commands.SearchCommand.SearchCompletedOption;
import seedu.todo.model.DoDoBird;
import seedu.todo.model.expressions.PredicateExpression;
import seedu.todo.model.task.Task;
import seedu.todo.testutil.TestDataHelper;

/**
 * Test class for OnDateQualifier used in model when searching
 * for tasks that fall on a certain date
 */
public class OnDateQualifierTest {
    
    TestDataHelper helper;
    DoDoBird ddb;
    
    @Before
    public void setup() {
        helper = new TestDataHelper();
        ddb = new DoDoBird();
    }
    
    @Test
    public void onDateQualifer_test() throws Exception {
        FilteredList<Task> filteredTasks = new FilteredList<>(ddb.getTasks());
        Task toAdd = helper.generateFullTask(1);
        ddb.addTask(toAdd);
        
        filteredTasks.setPredicate((new PredicateExpression(
                new OnDateQualifier(LocalDateTime.now(), SearchCompletedOption.ALL)))::satisfies);
        assertEquals(filteredTasks.size(), 0);
        
        Task toAddToday = helper.generateTaskWithDates("today", "4 days later");
        ddb.addTask(toAddToday);
        
        Task toAddNoDate = helper.generateTaskWithDates(null, null);
        ddb.addTask(toAddNoDate);
        
        filteredTasks.setPredicate((new PredicateExpression(
                new OnDateQualifier(LocalDateTime.now(), SearchCompletedOption.ALL)))::satisfies);
        assertEquals(filteredTasks.size(), 1);
    }
    
    
    
}
```
###### \java\seedu\todo\model\RecurrenceTest.java
``` java
package seedu.todo.model;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.commons.util.DateTimeUtil;
import seedu.todo.model.task.Recurrence;
import seedu.todo.model.task.Recurrence.Frequency;
import seedu.todo.model.task.Task;
import seedu.todo.testutil.TestDataHelper;

import org.junit.Test;
import org.junit.rules.ExpectedException;

import java.time.LocalDateTime;

import org.junit.Rule;
import static org.junit.Assert.assertEquals;

public class RecurrenceTest {

    @Rule
    public ExpectedException thrown = ExpectedException.none();
    LocalDateTime ldt = LocalDateTime.now();
    
    @Test
    public void recurrence_init_test() throws IllegalValueException {
        Recurrence r = new Recurrence(Frequency.NONE);
        assertEquals(r.getFreq(), Recurrence.Frequency.NONE);
        
        
    }
    
    @Test
    public void execute_updateTaskDateWeek_successful() throws Exception{
        TestDataHelper helper = new TestDataHelper();
        Task toBeRecur = helper.generateFullTask(0);
        
        toBeRecur.setRecurrence(new Recurrence(Frequency.WEEK));
        LocalDateTime oldOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime oldByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        toBeRecur.getRecurrence().updateTaskDate(toBeRecur);
        
        LocalDateTime newOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime newByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        assertEquals(oldOnDateTime.plusWeeks(1), newOnDateTime);
        assertEquals(oldByDateTime.plusWeeks(1), newByDateTime);
        
    }
    
    @Test
    public void execute_updateTaskDateDay_successful() throws Exception{
        TestDataHelper helper = new TestDataHelper();
        Task toBeRecur = helper.generateFullTask(0);
        
        toBeRecur.setRecurrence(new Recurrence(Frequency.DAY));
        LocalDateTime oldOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime oldByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        toBeRecur.getRecurrence().updateTaskDate(toBeRecur);
        
        LocalDateTime newOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime newByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        assertEquals(oldOnDateTime.plusDays(1), newOnDateTime);
        assertEquals(oldByDateTime.plusDays(1), newByDateTime);
        
    }
    
    @Test
    public void execute_updateTaskDateMonth_successful() throws Exception{
        TestDataHelper helper = new TestDataHelper();
        Task toBeRecur = helper.generateFullTask(0);
        
        toBeRecur.setRecurrence(new Recurrence(Frequency.MONTH));
        LocalDateTime oldOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime oldByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        toBeRecur.getRecurrence().updateTaskDate(toBeRecur);
        
        LocalDateTime newOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime newByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        assertEquals(oldOnDateTime.plusMonths(1), newOnDateTime);
        assertEquals(oldByDateTime.plusMonths(1), newByDateTime);
        
    }
    
    @Test
    public void execute_updateTaskDateYear_successful() throws Exception{
        TestDataHelper helper = new TestDataHelper();
        Task toBeRecur = helper.generateFullTask(0);
        
        toBeRecur.setRecurrence(new Recurrence(Frequency.YEAR));
        LocalDateTime oldOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime oldByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        toBeRecur.getRecurrence().updateTaskDate(toBeRecur);
        
        LocalDateTime newOnDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getOnDate().getDate(), toBeRecur.getOnDate().getTime());
        
        LocalDateTime newByDateTime = DateTimeUtil.combineLocalDateAndTime(
                toBeRecur.getByDate().getDate(), toBeRecur.getByDate().getTime());
        
        assertEquals(oldOnDateTime.plusYears(1), newOnDateTime);
        assertEquals(oldByDateTime.plusYears(1), newByDateTime);
        
    }
     
    
}
```
###### \java\seedu\todo\storage\StorageManagerTest.java
``` java
    @Test
    public void toDoListReadSave() throws Exception {
        DoDoBird original = new TypicalTestTasks().getTypicalToDoList();
        storageManager.saveToDoList(original);
        ReadOnlyToDoList retrieved = storageManager.readToDoList().get();
        
        DoDoBird retrievedDdb = new DoDoBird();
        
        for (int i = retrieved.getTaskList().size() - 1; i >= 0; i--) {
            retrievedDdb.addTask(new Task(retrieved.getTaskList().get(i)));
        }
        
        assertEquals(original, retrievedDdb);
        //More extensive testing of ToDoList saving/reading is done in XmlToDoListStorageTest
    }
```
###### \java\seedu\todo\testutil\TaskBuilder.java
``` java
package seedu.todo.testutil;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.model.tag.Tag;
import seedu.todo.model.task.*;
import seedu.todo.model.task.Recurrence.Frequency;

/**
 * Factory class for building TestTask
 */
public class TaskBuilder {

    private TestTask task;

    public TaskBuilder() {
        this.task = new TestTask();
    }

    public TaskBuilder withName(String name) throws IllegalValueException {
        this.task.setName(new Name(name));
        return this;
    }
    
    public TaskBuilder withCompletion(boolean completed) {
        this.task.setCompletion(new Completion(completed));
        return this;
    }
    
    public TaskBuilder withRecurrence(Frequency freq) throws IllegalValueException{
        this.task.setRecurrence(new Recurrence(freq));
        return this;
    }

    public TaskBuilder withTags(String ... tags) throws IllegalValueException {
        for (String tag: tags) {
            task.getTags().add(new Tag(tag));
        }
        return this;
    }

    public TaskBuilder withDetail(String detail) throws IllegalValueException {
        this.task.setDetail(new Detail(detail));
        return this;
    }

    public TaskBuilder withOnDate(String dateString) throws IllegalValueException {
        this.task.setOnDate(new TaskDate(dateString, TaskDate.TASK_DATE_ON));
        return this;
    }

    public TaskBuilder withByDate(String dateString) throws IllegalValueException {
        this.task.setByDate(new TaskDate(dateString, TaskDate.TASK_DATE_BY));
        return this;
    }

    public TaskBuilder withPriority(String priority) throws IllegalValueException {
        this.task.setPriority(new Priority(priority));
        return this;
    }
    
    
    public TestTask build() {
        return this.task;
    }

}
```
###### \java\seedu\todo\testutil\TestDataHelper.java
``` java
package seedu.todo.testutil;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import seedu.todo.model.Model;
import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.model.DoDoBird;
import seedu.todo.model.task.Detail;
import seedu.todo.model.task.Name;
import seedu.todo.model.task.Priority;
import seedu.todo.model.task.Recurrence;
import seedu.todo.model.task.Recurrence.Frequency;
import seedu.todo.model.task.Task;
import seedu.todo.model.task.TaskDate;

/**
 * A utility class to generate test data.
 */
public class TestDataHelper {

    /**
     * Generates a valid full task using the given seed.
     * Running this function with the same parameter values guarantees the returned task will have the same state.
     * Each unique seed will generate a unique Task object.
     *
     * @param seed used to generate the task data field values
     */
    public Task generateFullTask(int seed) throws IllegalValueException {
        return new Task(
                new Name("Task " + seed),
                new Detail("House of " + seed),
                new TaskDate("2/3/2017 12:34 pm", TaskDate.TASK_DATE_ON),
                new TaskDate("2/3/2018 12:34 pm", TaskDate.TASK_DATE_BY),
                new Priority("low"),
                new Recurrence(Frequency.NONE)
        );
    }
    
```
###### \java\seedu\todo\testutil\TestDataHelper.java
``` java
    
    /** Generates the correct add command based on the task given */
    public String generateAddCommand(Task p) {
        StringBuffer cmd = new StringBuffer();

        cmd.append("add ");
        cmd.append(p.getName().toString());
        if (p.getOnDate().getDate() != null) {
            cmd.append(" on ").append(p.getOnDate().toString());
        }
        if (p.getByDate().getDate() != null) {
            cmd.append(" by ").append(p.getByDate().toString());
        }
        cmd.append(" priority ").append(p.getPriority().toString());
        cmd.append(" ;").append(p.getDetail());
        
        return cmd.toString();
    }
    
    /** Generates the correct add command based on the task given */
    public String generateAddCommandRecurring(Task p) {
        StringBuffer cmd = new StringBuffer();

        cmd.append("add ");
        cmd.append(p.getName().toString());
        if (p.getOnDate().getDate() != null) {
            cmd.append(" on ").append(p.getOnDate().toString());
        }
        if (p.getByDate().getDate() != null) {
            cmd.append(" by ").append(p.getByDate().toString());
        }
        cmd.append(" every ").append(p.getRecurrence().toString());
        cmd.append(" ;").append(p.getDetail());
        
        return cmd.toString();
    }
    

    /**
     * Generates an ToDoList with auto-generated tasks.
     */
    public DoDoBird generateToDoList(int numGenerated) throws IllegalValueException{
        DoDoBird toDoList = new DoDoBird();
        addToToDoList(toDoList, numGenerated);
        return toDoList;
    }

    /**
     * Generates an ToDoList based on the list of Tasks given.
     */
    public DoDoBird generateToDoList(List<Task> tasks) throws IllegalValueException{
        DoDoBird toDoList = new DoDoBird();
        addToToDoList(toDoList, tasks);
        return toDoList;
    }

    /**
     * Adds auto-generated Task objects to the given ToDoList
     * @param toDoList The ToDoList to which the Tasks will be added
     */
    public void addToToDoList(DoDoBird toDoList, int numGenerated) throws IllegalValueException{
        addToToDoList(toDoList, generateTaskList(numGenerated));
    }

    /**
     * Adds the given list of Tasks to the given ToDoList
     */
    public void addToToDoList(DoDoBird toDoList, List<Task> tasksToAdd) throws IllegalValueException{
        for (Task p: tasksToAdd){
            toDoList.addTask(p);
        }
    }

    /**
     * Adds auto-generated Task objects to the given model
     * @param model The model to which the Tasks will be added
     */
    public void addToModel(Model model, int numGenerated) throws IllegalValueException {
        addToModel(model, generateTaskList(numGenerated));
    }

    /**
     * Adds the given list of Tasks to the given model
     */
    public void addToModel(Model model, List<Task> tasksToAdd) throws IllegalValueException {
        for (Task p: tasksToAdd){
            model.addTask(p);
        }
    }

    /**
     * Generates a list of Tasks based on the flags.
     */
    public List<Task> generateTaskList(int numGenerated) throws IllegalValueException{
        List<Task> tasks = new ArrayList<>();
        for (int i = 1; i <= numGenerated; i++){
            tasks.add(generateFullTask(i));
        }
        return tasks;
    }
    
    public List<Task> generateReverseTaskList(int numGenerated) throws IllegalValueException {
        List<Task> tasks = new ArrayList<>();
        for (int i = 1; i <= numGenerated; i++){
            tasks.add(0, generateFullTask(i));
        }
        return tasks;
    }

    public List<Task> generateTaskList(Task... tasks) {
        return Arrays.asList(tasks);
    }
    
    public List<Task> generateReverseTaskList(Task... tasks) {
        Task[] temp = new Task[tasks.length];
        for (int i = 0; i < tasks.length; i++) {
            temp[tasks.length - i - 1] = tasks[i];
        }
        return Arrays.asList(temp);
    }

    /**
     * Generates a Task object with given name. Other fields will have some dummy values.
     */
    public Task generateTaskWithName(String name) throws IllegalValueException {
        return new Task(
                new Name(name),
                new Detail("1"),
                new TaskDate("5/3/2017 12:44 pm", TaskDate.TASK_DATE_ON),
                new TaskDate("5/3/2018 12:44 pm", TaskDate.TASK_DATE_BY),
                new Priority("low"),
                new Recurrence(Frequency.NONE)
        );
    }
    
    /**
     * Generates a Task object with given dates. Other fields will have some dummy values.
     */
    public Task generateTaskWithDates(String onDateString, String byDateString) throws IllegalValueException {
        return new Task(
                new Name("Task"),
                new Detail("1"),
                new TaskDate(onDateString, TaskDate.TASK_DATE_ON),
                new TaskDate(byDateString, TaskDate.TASK_DATE_BY),
                new Priority("low"),
                new Recurrence(Frequency.NONE)
        );
    }
}
```
###### \java\seedu\todo\testutil\TestUtil.java
``` java
    private static Task[] getSampleTaskData() {
        try {
            return new Task[]{
                new Task(new Name("Ali Muster"), new Detail("9482424"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY),
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("Boris Mueller"), new Detail("87249245"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY), 
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("Carl Kurz"), new Detail("95352563"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY), 
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("Daniel Meier"), 
                        new Detail("87652533"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY),
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("Elle Meyer"), new Detail("9482224"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY), 
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("Fiona Kunz"), new Detail("9482427"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY), 
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("George Best"), new Detail("9482442"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY), 
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("Hoon Meier"), new Detail("8482424"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY), 
                        new Priority("low"),
                        new Recurrence(Frequency.NONE)),
                new Task(new Name("Ida Mueller"), new Detail("8482131"), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_ON), 
                        new TaskDate("12/12/1234", TaskDate.TASK_DATE_BY), 
                        new Priority("low"),
                        new Recurrence(Frequency.NONE))
            };
        } catch (IllegalValueException e) {
            assert false;
            //not possible
            return null;
        }
    }
```
###### \java\seedu\todo\testutil\TestUtil.java
``` java
    /**
     * Prepends tasks to the array of tasks.
     * @param tasks A array of tasks.
     * @param tasksToAdd The tasks that are to be appended behind the original array.
     * @return The modified array of tasks.
     */
    public static TestTask[] addTasksToList(final TestTask[] tasks, TestTask... tasksToAdd) {
        List<TestTask> listOfTasks = asList(tasks);
        for (TestTask t : tasksToAdd) {
            listOfTasks.add(0, t); 
        }
        return listOfTasks.toArray(new TestTask[listOfTasks.size()]);
    }
```
###### \java\seedu\todo\testutil\TypicalTestTasks.java
``` java
package seedu.todo.testutil;

import seedu.todo.commons.exceptions.IllegalValueException;
import seedu.todo.model.DoDoBird;
import seedu.todo.model.task.*;
import seedu.todo.model.task.Recurrence.Frequency;

/**
 *
 */
public class TypicalTestTasks {

    public static TestTask buyGroceries, buyMilk, buyRice, buyChilli, buyNoodles, buyCheese;

    public TypicalTestTasks() {
        try {
            buyGroceries =  new TaskBuilder().withName("Buy Groceries").withByDate("12/12/2016")
                    .withOnDate("12/10/2016").withDetail("fish").withCompletion(true)
                    .withRecurrence(Frequency.NONE).withTags("urgent").withPriority("mid").build();
            
            buyMilk =  new TaskBuilder().withName("Buy Milk").withByDate("12/12/2016")
                    .withOnDate("20/10/2016").withDetail("Marigold").withCompletion(true)
                    .withRecurrence(Frequency.NONE).withTags("urgent").withPriority("mid").build();
            
            buyRice =  new TaskBuilder().withName("Buy Rice").withByDate("12/12/2016")
                    .withOnDate("30/10/2016").withDetail("Thai Rice").withCompletion(true).
                    withRecurrence(Frequency.NONE).withTags("urgent").withPriority("mid").build();
            
            buyChilli =  new TaskBuilder().withName("Buy Chilli").withByDate("12/12/2016")
                    .withOnDate("12/11/2016").withDetail("Red").withCompletion(true)
                    .withRecurrence(Frequency.NONE).withTags("urgent").withPriority("mid").build();
            
            buyNoodles = new TaskBuilder().withName("Buy Noodles").withByDate("12/12/2016")
                    .withOnDate("12/11/2016").withDetail("Red").withCompletion(true)
                    .withRecurrence(Frequency.NONE).withTags("urgent").withPriority("mid").build();
            
            buyCheese = new TaskBuilder().withName("Buy Cheese").withByDate("12/12/2016")
                    .withOnDate("12/11/2016").withDetail("Red").withCompletion(true)
                    .withRecurrence(Frequency.NONE).withTags("urgent").withPriority("mid").build();
            
            
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false : "not possible";
        }
    }

    public static void loadToDoListWithSampleData(DoDoBird ab) {

        try {
            ab.addTask(new Task(buyGroceries));
            ab.addTask(new Task(buyChilli));
        } catch (UniqueTaskList.DuplicateTaskException e) {
            assert false : "not possible";
        }
    }

    public TestTask[] getTypicalTasks() {
        return new TestTask[]{buyGroceries, buyChilli, buyMilk, buyCheese};
    }
    
    public TestTask[] getTypicalTasksReverse() {
        return new TestTask[]{buyCheese, buyMilk, buyChilli, buyGroceries};
    }
    
    public TestTask[] getEmptyTaskList() {
        return new TestTask[]{};
    }

    public DoDoBird getTypicalToDoList(){
        DoDoBird ab = new DoDoBird();
        loadToDoListWithSampleData(ab);
        return ab;
    }
}
```
